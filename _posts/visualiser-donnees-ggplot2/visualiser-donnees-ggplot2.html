<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #5e5e5e; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>


  <!--radix_placeholder_meta_tags-->
  <title>Visualisation de données</title>

  <meta property="description" itemprop="description" content="Créer des graphiques avec ggplot2."/>


  <!--  https://schema.org/Article -->
  <meta property="article:published" itemprop="datePublished" content="2022-06-30"/>
  <meta property="article:created" itemprop="dateCreated" content="2022-06-30"/>
  <meta name="article:author" content="Jonathan Kitt"/>

  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Visualisation de données"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Créer des graphiques avec ggplot2."/>
  <meta property="og:locale" content="en_US"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Visualisation de données"/>
  <meta property="twitter:description" content="Créer des graphiques avec ggplot2."/>

  <!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","categories","output","draft"]}},"value":[{"type":"character","attributes":{},"value":["Visualisation de données"]},{"type":"character","attributes":{},"value":["Créer des graphiques avec ggplot2.\n"]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name"]}},"value":[{"type":"character","attributes":{},"value":["Jonathan Kitt"]}]}]},{"type":"character","attributes":{},"value":["2022-06-30"]},{"type":"character","attributes":{},"value":["R","RStudio","Graphiques","ggpplot2","Tidyverse"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["toc","toc_depth","self_contained"]}},"value":[{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[1]},{"type":"logical","attributes":{},"value":[false]}]}]},{"type":"logical","attributes":{},"value":[false]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["img/barplot_especes.png","img/boxplot.png","img/colorbrewer2.png","img/export_ggplot_01.png","img/export_ggplot_02.png","img/geom_point_shapes.png","img/ggplot-grammar-of-graphics.png","img/ggplot_01.gif","img/ggplot_02.gif","img/ggplot_layers.png","img/ggplot2_blank.png","img/hist1.png","img/hist2.png","img/hist3.png","img/hist4.png","img/hist5.png","img/hist6.png","img/hist7.png","img/lter_penguins.png","img/rcolorbrewer.png","img/sp1.png","visualiser-donnees-ggplot2_files/anchor-4.2.2/anchor.min.js","visualiser-donnees-ggplot2_files/bowser-1.9.3/bowser.min.js","visualiser-donnees-ggplot2_files/distill-2.2.21/template.v2.js","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-10-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-11-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-12-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-13-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-14-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-15-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-16-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-17-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-19-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-21-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-22-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-23-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-24-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-25-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-26-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-27-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-28-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-29-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-30-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-31-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-32-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-33-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-34-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-35-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-36-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-37-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-38-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-39-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-40-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-41-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-42-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-43-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-44-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-45-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-46-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-47-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-48-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-49-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-50-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-51-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-52-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-53-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-55-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-56-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-57-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-8-1.png","visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-9-1.png","visualiser-donnees-ggplot2_files/header-attrs-2.11/header-attrs.js","visualiser-donnees-ggplot2_files/header-attrs-2.14/header-attrs.js","visualiser-donnees-ggplot2_files/jquery-3.6.0/jquery-3.6.0.js","visualiser-donnees-ggplot2_files/jquery-3.6.0/jquery-3.6.0.min.js","visualiser-donnees-ggplot2_files/jquery-3.6.0/jquery-3.6.0.min.map","visualiser-donnees-ggplot2_files/popper-2.6.0/popper.min.js","visualiser-donnees-ggplot2_files/tippy-6.2.7/tippy-bundle.umd.min.js","visualiser-donnees-ggplot2_files/tippy-6.2.7/tippy-light-border.css","visualiser-donnees-ggplot2_files/tippy-6.2.7/tippy.css","visualiser-donnees-ggplot2_files/tippy-6.2.7/tippy.umd.min.js","visualiser-donnees-ggplot2_files/webcomponents-2.0.0/webcomponents.js"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refs = $(this).attr('data-cites').split(" ");
        var refHtml = refs.map(function(ref) {
          return "<p>" + $('#ref-' + ref).html() + "</p>";
        }).join("\n");
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="visualiser-donnees-ggplot2_files/header-attrs-2.11/header-attrs.js"></script>
  <script src="visualiser-donnees-ggplot2_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
  <script src="visualiser-donnees-ggplot2_files/popper-2.6.0/popper.min.js"></script>
  <link href="visualiser-donnees-ggplot2_files/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="visualiser-donnees-ggplot2_files/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="visualiser-donnees-ggplot2_files/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="visualiser-donnees-ggplot2_files/anchor-4.2.2/anchor.min.js"></script>
  <script src="visualiser-donnees-ggplot2_files/bowser-1.9.3/bowser.min.js"></script>
  <script src="visualiser-donnees-ggplot2_files/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="visualiser-donnees-ggplot2_files/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Visualisation de données","description":"Créer des graphiques avec ggplot2.","authors":[{"author":"Jonathan Kitt","authorURL":"#","affiliation":"&nbsp;","affiliationURL":"#","orcidID":""}],"publishedDate":"2022-06-30T00:00:00.000+02:00","citationText":"Kitt, 2022"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Visualisation de données</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
<div class="dt=tag">R</div>
<div class="dt=tag">RStudio</div>
<div class="dt=tag">Graphiques</div>
<div class="dt=tag">ggpplot2</div>
<div class="dt=tag">Tidyverse</div>
</div>
<!--/radix_placeholder_categories-->
<p><p>Créer des graphiques avec ggplot2.</p></p>
</div>

<div class="d-byline">
  Jonathan Kitt  
  
<br/>2022-06-30
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#construire">Construire un graphique <code>ggplot2</code></a></li>
<li><a href="#creer">Créer des graphiques basiques</a></li>
<li><a href="#facet">Graphiques multiples</a></li>
<li><a href="#exporter">Exporter un graphique</a></li>
<li><a href="#ameliorer">Améliorer ses graphiques</a></li>
</ul>
</nav>
</div>
<h1 id="introduction">Introduction</h1>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/ggplot2_blank.png" width="2364" /></p>
</div>
<p>Dessin de <a href="https://github.com/allisonhorst/stats-illustrations/blob/master/rstats-blanks/ggplot2_blank.png">Allison Horst</a></p>
<p><br></p>
<p>Nous avons vu comment <a href="https://codons.netlify.app/posts/premiers-pas-avec-r/">importer nos données dans RStudio</a>, et comment <a href="https://codons.netlify.app/posts/manipuler-donnees-tidyverse/">les manipuler et les mettre en forme</a>.</p>
<p><br></p>
<p>Dans ce tutoriel nous allons voir comment communiquer les résultats de nos analyses - à l’aide de la <strong>visualisation de données</strong> :</p>
<p><br></p>
<p><strong>1. <a href="#construction">Construire un graphique <code>ggplot2</code></a></strong></p>
<p><strong>3. <a href="#creer">Créer des graphiques basiques</a></strong> :</p>
<ul>
<li><p><a href="#scatterplot">nuage de points (scatter plot)</a></p></li>
<li><p><a href="#histogram">histogramme</a></p></li>
<li><p><a href="#boxplot">boîtes à moustaches (box plot)</a></p></li>
<li><p><a href="#barplot">diagramme en bâtons (bar plot)</a></p></li>
<li><p><a href="#facet">graphiques multiples (facet)</a></p></li>
</ul>
<p><strong>3. <a href="#exporter">Exporter un graphique</a></strong></p>
<p><strong>4. <a href="#ameliorer">Améliorer ses graphiques</a></strong></p>
<p><strong>5. <a href="#patchwork">Assembler ses graphiques à l’aide de <code>patchwork</code></a></strong></p>
<p><strong>6. <a href="#defi">Défi</a></strong></p>
<p><br></p>
<h1 id="construire">Construire un graphique <code>ggplot2</code></h1>
<p>Le package <code>ggplot2</code> (qui fait partie de la suite Tidyverse) repose sur le principe de <strong>grammaire des graphiques</strong> : notre visualisation se construit étape par étape, en procédant par <strong>couches</strong>, comme le montre la figure ci-dessous.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/ggplot-grammar-of-graphics.png" width="960" /></p>
</div>
<p>Figure tirée de <a href="https://larmarange.github.io/analyse-R/ggplot2.html">ggplot2 et la grammaire des graphiques</a></p>
<p><br></p>
<p>Toutes ces couches ne sont pas nécessaires à la construction d’un graphique.<br />
La figure ci-dessous montre de manière simplifiée comment créer un <code>ggplot</code> basique :</p>
<p><strong>1) <code>ggplot()</code></strong> : initialisation de l’outil graphique</p>
<p><strong>2) <code>aes()</code></strong> : paramètres esthétiques (répartition des variables sur les axes, couleurs, …)</p>
<p><strong>3) <code>geom()</code></strong> : type de représentation (points, lignes, …)</p>
<p><strong>4) <code>theme()</code></strong> : apparence du graphique (arrière-plan, taille et alignement du texte, …)</p>
<div class="layout-chunk" data-layout="l-page">
<p><img src="img/ggplot_01.gif" /><!-- --></p>
</div>
<p>Vous remarquerez dans le code la présence du signe <strong>“+”</strong> à la fin de chaque ligne : c’est ce qui permet d’ajouter une couche à votre graphique.</p>
<h1 id="creer">Créer des graphiques basiques</h1>
<p>Commençons par ouvrir un nouveau script R et importer le jeu de données :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>

<span class='va'>pingouins</span> <span class='op'>&lt;-</span> <span class='fu'>readr</span><span class='fu'>::</span><span class='fu'><a href='https://readr.tidyverse.org/reference/read_delim.html'>read_csv</a></span><span class='op'>(</span><span class='st'>"https://raw.githubusercontent.com/codons-blog/C-04-VisualisationDonnees/main/pingouins.csv"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Ateliers codons!</span>
<span class='co'># 04 - Visualisation de donnees avec ggplot2</span>
<span class='co'># 2022-06-30</span>

<span class='co'># Definir le repertoire de travail ----</span>

<span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>setwd</a></span><span class='op'>(</span><span class='st'>"codons/C-04-VisualisationDonnees"</span><span class='op'>)</span>

<span class='co'># Charger le Tidyverse ----</span>

<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://tidyverse.tidyverse.org'>tidyverse</a></span><span class='op'>)</span>

<span class='co'># Importer le jeu de donnees ----</span>

<span class='va'>pingouins</span> <span class='op'>&lt;-</span> <span class='fu'>readr</span><span class='fu'>::</span><span class='fu'><a href='https://readr.tidyverse.org/reference/read_delim.html'>read_csv</a></span><span class='op'>(</span><span class='st'>"https://raw.githubusercontent.com/codons-blog/C-04-VisualisationDonnees/main/pingouins.csv"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p><br></p>
<p>Il est toujours utile de vérifier les données importées avant d’aller plus loin :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://pillar.r-lib.org/reference/glimpse.html'>glimpse</a></span><span class='op'>(</span><span class='va'>pingouins</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Rows: 342
Columns: 6
$ espece       &lt;chr&gt; &quot;Adelie&quot;, &quot;Adelie&quot;, &quot;Adelie&quot;, &quot;Adelie&quot;, &quot;Adelie~
$ ile          &lt;chr&gt; &quot;Torgersen&quot;, &quot;Torgersen&quot;, &quot;Torgersen&quot;, &quot;Torgers~
$ bec_lngr_mm  &lt;dbl&gt; 39.1, 39.5, 40.3, 36.7, 39.3, 38.9, 39.2, 34.1,~
$ bec_htr_mm   &lt;dbl&gt; 18.7, 17.4, 18.0, 19.3, 20.6, 17.8, 19.6, 18.1,~
$ aile_lngr_mm &lt;dbl&gt; 181, 186, 195, 193, 190, 181, 195, 193, 190, 18~
$ masse_g      &lt;dbl&gt; 3750, 3800, 3250, 3450, 3650, 3625, 4675, 3475,~</code></pre>
</div>
<p><br></p>
<p>Il s’agit du jeu de données <a href="https://allisonhorst.github.io/palmerpenguins/">Palmer penguins</a>, disponible dans le package R <a href="https://cloud.r-project.org/web/packages/palmerpenguins/index.html">palmerpenguins</a>.</p>
<p>Différents paramètres ont été mesurés sur trois espèces de pingouins, sur trois îles de l’archipel Palmer en Antarctique.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/lter_penguins.png" width="900" /></p>
</div>
<p>Dessin de <a href="https://allisonhorst.github.io/palmerpenguins/reference/figures/lter_penguins.png">Allison Horst</a></p>
<h2 id="scatterplot">Nuage de points (scatter plot)</h2>
<p>Intéressons-nous au bec des pingouins en répondant à la question suivante : <strong>quelle est la distribution du rapport entre la hauteur du bec et sa longueur ?</strong>.</p>
<p>Afin de bien comprendre comment construire un graphique avec <code>ggplot2</code>, procédons étape par étape.</p>
<p><br></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Initialiser l'outil graphique</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-8-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Paramètres esthétiques : répartition des variables sur les axes</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>bec_lngr_mm</span>,
                     y <span class='op'>=</span> <span class='va'>bec_htr_mm</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-9-1.png" width="624" /></p>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Type de visualisation : points</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>bec_lngr_mm</span>,
                     y <span class='op'>=</span> <span class='va'>bec_htr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-10-1.png" width="624" /></p>
</div>
<p><br></p>
<p>Voilà la distribution que nous cherchons à observer. C’est un bon début, mais cela manque de couleurs …</p>
<p>Il existe deux façons d’ajouter des couleurs à un <code>ggplot</code> :</p>
<ul>
<li><strong>définir une couleur pour l’ensemble des points</strong> : on placera alors le paramètre couleur <strong>en dehors de la parenthèse <code>aes()</code></strong>.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Une couleur pour l'ensemble des points</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>bec_lngr_mm</span>,
                     y <span class='op'>=</span> <span class='va'>bec_htr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='st'>"red"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-11-1.png" width="624" /></p>
</div>
<ul>
<li><strong>colorer les points en fonction d’une autre variable</strong> : on placera dans ce cas le paramètre couleur <strong>à l’intérieur de la parenthèse <code>aes()</code></strong>.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Colorer les points en fonction de l'espece</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>bec_lngr_mm</span>,
                     y <span class='op'>=</span> <span class='va'>bec_htr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-12-1.png" width="624" /></p>
</div>
<p>Vous pouvez voir qu’une <strong>légende</strong> permettant de différencier les trois espèces a été ajoutée à droite du graphique.</p>
<p>Nous aimerions utiliser les mêmes couleurs que celles de la documentation du jeu de données. Nous utilisons pour cela le paramètre <code>scale_colour_manual()</code> :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Modifier les couleurs</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>bec_lngr_mm</span>,
                     y <span class='op'>=</span> <span class='va'>bec_htr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-13-1.png" width="624" /></p>
</div>
<p>La taille des points nous semble trop petite : nous allons l’augmenter à l’aide de <code>size</code> :</p>
<aside>
Prend une valeur numérique, par défaut 1
</aside>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Augmenter la taille des points</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>bec_lngr_mm</span>,
                     y <span class='op'>=</span> <span class='va'>bec_htr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
             size <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-14-1.png" width="624" /></p>
</div>
<p>Afin de rendre le graphique plus lisible, nous pouvons ajouter de la transparence aux points à l’aide du paramètre <code>alpha</code> :</p>
<aside>
Entre 0 et 1, par opacité croissante
</aside>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Ajouter de la transparence</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>bec_lngr_mm</span>,
                     y <span class='op'>=</span> <span class='va'>bec_htr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
             size <span class='op'>=</span> <span class='fl'>3</span>,
             alpha <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-15-1.png" width="624" /></p>
</div>
<p>Nous allons maintenant ajouter un titre et un sous-titre à notre graphique, et modifier les titres des axes pour les rendre plus explicites :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Ajouter ou modifier les titres du graphique et des axes</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>bec_lngr_mm</span>,
                     y <span class='op'>=</span> <span class='va'>bec_htr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
             size <span class='op'>=</span> <span class='fl'>3</span>,
             alpha <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Rapport entre la hauteur et la longueur du bec"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de pingouins de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>"Longueur du bec (mm)"</span>,
       y <span class='op'>=</span> <span class='st'>"Hauteur du bec (mm)"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-16-1.png" width="624" /></p>
</div>
<p>Le fond gris du graphique est proposé par défaut par <code>ggplot2</code> : il s’agit d’un <strong>thème</strong> définissant l’apparence générale du graphique (couleurs de l’arrière-plan, de la grille, présence ou non d’un cadre, …). Nous allons utiliser l’un des autres thèmes prédéfinis dans <code>ggplot2</code>, le thème <strong>“minimal”</strong> à l’aide du paramètre <code>theme_minimal()</code>.</p>
<p><br> Il en existe d’autres : <code>theme_light()</code>, <code>theme_bw()</code>, <code>theme_void()</code>, … N’hésitez pas à les essayer pour trouver celui qui vous convient le mieux !</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Changer le thème</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>bec_lngr_mm</span>,
                     y <span class='op'>=</span> <span class='va'>bec_htr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
             size <span class='op'>=</span> <span class='fl'>3</span>,
             alpha <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Rapport entre la hauteur et la longueur du bec"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de pingouins de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>"Longueur du bec (mm)"</span>,
       y <span class='op'>=</span> <span class='st'>"Hauteur du bec (mm)"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-17-1.png" width="624" /></p>
</div>
<h3 id="une-note-sur-les-formes-et-les-couleurs">Une note sur les formes et les couleurs</h3>
<p>Nous pourrions également modifier la forme de nos points, à l’aide du paramètre <code>shape</code>. Il existe 25 types de points, comme montré ci-dessous.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/geom_point_shapes.png" width="700" /></p>
</div>
<p>La façon de colorer les points dépend de la forme choisie :</p>
<ul>
<li><p>couleur appliquée au <strong>contour</strong> pour les formes <strong>0 à 14</strong> à l’aide de <code>colour = ...</code></p></li>
<li><p>couleur appliquée à l’<strong>intérieur</strong> pour les formes <strong>15 à 20</strong> à l’aide de <code>fill = ...</code></p></li>
<li><p>couleur appliquée <strong>au contour et à l’intérieur</strong> pour les formes <strong>21 à 24</strong> à l’aide de ces deux paramètres, avec la même couleur ou des couleurs différentes. Pour ces cinq formes, la largeur du contour peut être modifiée à l’aide de <code>stroke = ...</code> (prend une valeur numérique).</p></li>
</ul>
<p>Pour donner un exemple, nous pouvons ajouter à nos points un contour noir :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Changer la forme des points</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>bec_lngr_mm</span>,
                     y <span class='op'>=</span> <span class='va'>bec_htr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
             shape <span class='op'>=</span> <span class='fl'>23</span>,
             stroke <span class='op'>=</span> <span class='fl'>2</span>,
             colour <span class='op'>=</span> <span class='st'>"black"</span>,
             size <span class='op'>=</span> <span class='fl'>3</span>,
             alpha <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Rapport entre la hauteur et la longueur du bec"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de pingouins de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>"Longueur du bec (mm)"</span>,
       y <span class='op'>=</span> <span class='st'>"Hauteur du bec (mm)"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-19-1.png" width="624" /></p>
</div>
<p><strong>Attention à la logique du code !!</strong> Nous avons choisi de colorer l’intérieur de nos points en fonction de l’espèce : <code>geom_point(aes(fill = espece))</code>. Il faut donc modifier la ligne qui nous permet de changer les couleurs : <strong><code>scale_fill_manual()</code></strong> remplace <code>scale_colour_manual()</code> utilisé précédemment.</p>
<p><br></p>
<p>Le package <code>ggplot2</code> propose de nombreuses palettes de couleurs :</p>
<aside>
<a href="http://www.cookbook-r.com/Graphs/Colors_(ggplot2)/#rcolorbrewer-palette-chart">Palettes prédéfinies dans <code>ggplot2</code></a>
</aside>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/rcolorbrewer.png" width="198" /></p>
</div>
<p>Ces différentes palettes peuvent être utilisées à l’aide de <code>scale_colour_brewer()</code> ou <code>scale_fill_brewer()</code>. Essayons la palette <em>Set3</em> :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Utiliser une palette de couleurs</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>bec_lngr_mm</span>,
                     y <span class='op'>=</span> <span class='va'>bec_htr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
             size <span class='op'>=</span> <span class='fl'>3</span>,
             alpha <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_brewer.html'>scale_colour_brewer</a></span><span class='op'>(</span>palette <span class='op'>=</span> <span class='st'>"Set3"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Rapport entre la hauteur et la longueur du bec"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de pingouins de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>"Longueur du bec (mm)"</span>,
       y <span class='op'>=</span> <span class='st'>"Hauteur du bec (mm)"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-21-1.png" width="624" /></p>
</div>
<p>Il existe beaucoup d’autres palettes, accessibles via des packages, dont la liste est <a href="https://github.com/EmilHvitfeldt/r-color-palettes">accessible ici</a>.</p>
<h2 id="histogram">Histogramme</h2>
<p>Essayons maintenant de répondre à la question suivante : <strong>quelle est la distribution de la longueur des ailes ?</strong>. <br> Nous allons pour cela générer un histogramme à l’aide de <code>geom_histogram()</code> :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Histogramme</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>aile_lngr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_histogram.html'>geom_histogram</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
                 alpha <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Distribution de la longueur des ailes"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de pingouins de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>"Longueur des ailes (mm)"</span>,
       y <span class='op'>=</span> <span class='st'>"Fréquence"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-22-1.png" width="624" /></p>
</div>
<p>Il existe trois manières d’arranger la position des histogrammes des différents groupes :</p>
<p><strong>1) <code>position = "stack</code> (par défaut)</strong> : voir ci-dessus.</p>
<strong>2) <code>position = "identity</code></strong> :
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Histogramme - position = "identity"</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>aile_lngr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_histogram.html'>geom_histogram</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
                 alpha <span class='op'>=</span> <span class='fl'>0.5</span>,
                 position <span class='op'>=</span> <span class='st'>"identity"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Distribution de la longueur des ailes"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de pingouins de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>"Longueur des ailes (mm)"</span>,
       y <span class='op'>=</span> <span class='st'>"Fréquence"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-23-1.png" width="624" /></p>
</div>
<strong>3) <code>position = "dodge</code></strong>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Histogramme - position = "dodge"</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>aile_lngr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_histogram.html'>geom_histogram</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
                 alpha <span class='op'>=</span> <span class='fl'>0.5</span>,
                 position <span class='op'>=</span> <span class='st'>"dodge"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Distribution de la longueur des ailes"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de pingouins de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>"Longueur des ailes (mm)"</span>,
       y <span class='op'>=</span> <span class='st'>"Fréquence"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-24-1.png" width="624" /></p>
</div>
<p>Lorsque vous exécutez ce code, vous pouvez lire le message suivant dans la console : <strong><code>stat_bin()</code> using <code>bins = 30</code>. Pick better value with <code>binwidth</code>.</strong></p>
<p><br></p>
<p>Cela vous signale que le nombre de classes (bins) choisi pour l’histogramme n’est peut-être pas idéal.</p>
<p><br></p>
<p>Vous pouvez modifier ces classes de deux façons :</p>
<p><strong>1) en modifiant la largeur de chaque classe sur l’axe x : <code>binwidth = ...</code></strong></p>
<p><strong>2) en modifiant le nombre de classes à afficher : <code>bins = ...</code></strong></p>
<p><br></p>
<p>Modifions ces paramètres pour voir le résultat :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Histogramme - position = "identity" - binwidth = 0.5</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>aile_lngr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_histogram.html'>geom_histogram</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
                 alpha <span class='op'>=</span> <span class='fl'>0.5</span>,
                 position <span class='op'>=</span> <span class='st'>"identity"</span>,
                 binwidth <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Distribution de la longueur des ailes"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de pingouins de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>"Longueur des ailes (mm)"</span>,
       y <span class='op'>=</span> <span class='st'>"Fréquence"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-25-1.png" width="624" /></p>
</div>
<p><br></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Histogramme - position = "identity" - bins = 15</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>aile_lngr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_histogram.html'>geom_histogram</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
                 alpha <span class='op'>=</span> <span class='fl'>0.5</span>,
                 position <span class='op'>=</span> <span class='st'>"identity"</span>,
                 bins <span class='op'>=</span> <span class='fl'>15</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Distribution de la longueur des ailes"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de pingouins de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>"Longueur des ailes (mm)"</span>,
       y <span class='op'>=</span> <span class='st'>"Fréquence"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-26-1.png" width="624" /></p>
</div>
<h2 id="boxplot">Boîtes à moustaches (box plot)</h2>
<p>Intéressons-nous maintenant à la masse de nos pingouins : <strong>les masses des trois espèces sont-elles similaires ?</strong></p>
<p><br></p>
<p>Nous allons créer un graphique en boîte à moustaches à l’aide de <code>geom_boxplot()</code> :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Boxplots</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
                     y <span class='op'>=</span> <span class='va'>masse_g</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_boxplot.html'>geom_boxplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Distribution de la masse corporelle"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de pingouins de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>"Espèce"</span>,
       y <span class='op'>=</span> <span class='st'>"Masse (g)"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-27-1.png" width="624" /></p>
</div>
<p>Nous pouvons apporter quelques modifications à ce graphique :</p>
<ul>
<li><p>comme il y a une boîte à moustaches par espèce, nous <strong>pouvons supprimer la légende à l’aide de <code>show_legend = FALSE</code></strong></p></li>
<li><p>pour la même raison, nous pouvons <strong>supprimer le titre de l’axe x : <code>labs(x = "")</code></strong></p></li>
<li><p>nous pouvons <strong>supprimer les données aberrantes (outliers) : <code>outlier.shape = NA</code></strong></p></li>
<li><p><strong>réduire la largeur des boxplots avec <code>width</code></strong></p></li>
<li><p><strong>ajouter de la couleur à l’intérieur des boîtes à moustaches avec <code>aes(fill = espece)</code></strong> : bien penser à ajouter <code>scale_fill_manual()</code> !</p></li>
<li><p><strong>augmenter l’épaisseur des lignes avec <code>lwd</code></strong> (line width)</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Boxplots avec quelques modifications</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
                     y <span class='op'>=</span> <span class='va'>masse_g</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_boxplot.html'>geom_boxplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span>,
                   fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
               show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>,
               outlier.shape <span class='op'>=</span> <span class='cn'>NA</span>,
               width <span class='op'>=</span> <span class='fl'>0.25</span>,
               alpha <span class='op'>=</span> <span class='fl'>0.5</span>,
               lwd <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Distribution de la masse corporelle"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de pingouins de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>"Masse (g)"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-28-1.png" width="624" /></p>
</div>
<p><br></p>
<p>Si nous préférons des boxplots horizontaux, nous pouvons procéder de deux façons :</p>
<p><strong>1) inverser les variables x et y</strong>, en pensant bien à modifier également les titres des axes avec <code>labs()</code> :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Boxplots horizontaux : inverser les variables x et y</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>masse_g</span>,
                     y <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_boxplot.html'>geom_boxplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span>,
                   fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
               show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>,
               outlier.shape <span class='op'>=</span> <span class='cn'>NA</span>,
               width <span class='op'>=</span> <span class='fl'>0.25</span>,
               alpha <span class='op'>=</span> <span class='fl'>0.5</span>,
               lwd <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Distribution de la masse corporelle"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de pingouins de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>"Masse (g)"</span>,
       y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p><br></p>
<p><strong>2) utiliser <code>coord_flip()</code></strong> pour inverser les coordonnées :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Boxplots horizontaux : inverser les coordonnées avec coord_flip()</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
                     y <span class='op'>=</span> <span class='va'>masse_g</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_boxplot.html'>geom_boxplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span>,
                   fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
               show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>,
               outlier.shape <span class='op'>=</span> <span class='cn'>NA</span>,
               width <span class='op'>=</span> <span class='fl'>0.25</span>,
               alpha <span class='op'>=</span> <span class='fl'>0.5</span>,
               lwd <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Distribution de la masse corporelle"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de pingouins de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>"Masse (g)"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_flip.html'>coord_flip</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-30-1.png" width="624" /></p>
</div>
<p>Nous pouvons ajouter à ces box plots des scatter plots pour visualiser les données sous-jacentes :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Boxplots + scatter plots</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
                     y <span class='op'>=</span> <span class='va'>masse_g</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_boxplot.html'>geom_boxplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span>,
                   fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
               show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>,
               outlier.shape <span class='op'>=</span> <span class='cn'>NA</span>,
               width <span class='op'>=</span> <span class='fl'>0.25</span>,
               alpha <span class='op'>=</span> <span class='fl'>0.5</span>,
               lwd <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
             show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>,
             alpha <span class='op'>=</span> <span class='fl'>0.25</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Distribution de la masse corporelle"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de pingouins de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>"Masse (g)"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_flip.html'>coord_flip</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-31-1.png" width="624" /></p>
</div>
<p>Nous aimerions espacer un peu les points pour rendre le graphique plus lisible. Nous allons pour cela utiliser un autre type de visualisation de nuages de points : <code>geom_jitter()</code>. Les paramètres <code>height</code> et <code>width</code> permettent d’ajuster l’étalement du nuage respectivement en hauteur et en largeur. L’utilisation de l’un ou l’autre de ces paramètres dépendra de l’orientation de nos nuages de points (répartition des variables sur les axes x et y et utilisation de <code>coord_flip()</code>).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Boxplots + geom_jitter()</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
                     y <span class='op'>=</span> <span class='va'>masse_g</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_boxplot.html'>geom_boxplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span>,
                   fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
               show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>,
               outlier.shape <span class='op'>=</span> <span class='cn'>NA</span>,
               width <span class='op'>=</span> <span class='fl'>0.25</span>,
               alpha <span class='op'>=</span> <span class='fl'>0.5</span>,
               lwd <span class='op'>=</span> <span class='fl'>0.75</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_jitter.html'>geom_jitter</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
             show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>,
             alpha <span class='op'>=</span> <span class='fl'>0.25</span>,
             width <span class='op'>=</span> <span class='fl'>0.25</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Distribution de la masse corporelle"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de pingouins de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>"Masse (g)"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_flip.html'>coord_flip</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-32-1.png" width="624" /></p>
</div>
<h2 id="barplot">Diagramme en bâtons (bar plot)</h2>
<p><strong>Quelle espèce compte le plus de pingouins ?</strong><br />
Nous allons utiliser <code>geom_bar()</code> pour visualiser le nombre de pingouins par espèce :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Barplot</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
                     fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                               <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                               <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Nombre de pingouins"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-33-1.png" width="624" /></p>
</div>
<p>Les espèces étant déjà notées sur l’axe x, nous utilisons <code>show.legend = FALSE</code> pour alléger le graphique.</p>
<p>Nous souhaiterions ajouter des étiquettes de texte au-dessus des barres pour indiquer le nombre de pingouins par espèce. Nous allons pour cela ajouter une couche à l’aide de <code>geom_text()</code> :</p>
<ul>
<li><p><code>aes(label = ..count..)</code> : indique que les étiquettes contiendront le nombre d’observations par groupe défini précédemment (les espèces).</p></li>
<li><p><code>stat = "count"</code> : nécessaire pour que le code fonctionne.</p></li>
<li><p><code>vjust = -1</code> : alignement vertical des étiquettes, vous pouvez essayer différentes valeurs pour voir le résultat.</p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Barplot + geom_text()</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
                     fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>..count..</span><span class='op'>)</span>,
            stat <span class='op'>=</span> <span class='st'>"count"</span>,
            vjust <span class='op'>=</span> <span class='op'>-</span><span class='fl'>1</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                               <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                               <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Nombre de pingouins"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-34-1.png" width="624" /></p>
</div>
<p>Vous pouvez voir que l’étiquette pour l’espèce Adélie est coupée … il y a plusieurs façons de régler ce problème. Nous allons simplement positionner les étiquettes à l’intérieur des barres, augmenter la taille des caractères et colorer le texte en blanc pour le rendre plus lisible.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Barplot + geom_text() + texte dans les barres</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
                     fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>..count..</span><span class='op'>)</span>,
            stat <span class='op'>=</span> <span class='st'>"count"</span>,
            vjust <span class='op'>=</span> <span class='fl'>1.5</span>,
            colour <span class='op'>=</span> <span class='st'>"white"</span>,
            size <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                               <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                               <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Nombre de pingouins"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-35-1.png" width="624" /></p>
</div>
<p>Comme vous pouvez le voir, les espèces sont placées le long de l’axe x par ordre alphabétique. Nous préférerions qu’elles soient triées par ordre décroissant de nombre de pingouins. Nous allons voir trois façons de procéder :</p>
<p><strong>1) créer un objet intermédiaire</strong> : approche à éviter car elle ajoute un objet dans l’environnement et n’est <strong>pas dynamique</strong>, c’est-à-dire que le code ne sera pas utilisable pour d’autres cas de figure.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Tri avec création d'un objet intermédiaire</span>

<span class='va'>pingouins_tri</span> <span class='op'>&lt;-</span> <span class='va'>pingouins</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>espece <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>espece</span>,
                         levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span>, <span class='st'>"Gentoo"</span>, <span class='st'>"Chinstrap"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>

<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins_tri</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
                     fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>..count..</span><span class='op'>)</span>,
            stat <span class='op'>=</span> <span class='st'>"count"</span>,
            vjust <span class='op'>=</span> <span class='fl'>1.5</span>,
            colour <span class='op'>=</span> <span class='st'>"white"</span>,
            size <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                               <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                               <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Nombre de pingouins"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p><strong>2) modifier l’objet <em>pingouins</em> dans la fonction ggplot</strong> : cette approche utilise la fonction <code>mutate()</code> du package <code>dplyr</code> pour créer le facteur espece. Le code sera ré-utilisable et ne crée pas de nouvel objet dans l’environnement. Il nous faut par contre déterminer les niveaux du facteur avec <code>levels()</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Tri dans la fonction ggplot() à l'aide de mutate()</span>

<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span><span class='va'>pingouins</span>,
                     espece <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='va'>espece</span>,
                                     levels <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span>, <span class='st'>"Gentoo"</span>, <span class='st'>"Chinstrap"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
                     fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>..count..</span><span class='op'>)</span>,
            stat <span class='op'>=</span> <span class='st'>"count"</span>,
            vjust <span class='op'>=</span> <span class='fl'>1.5</span>,
            colour <span class='op'>=</span> <span class='st'>"white"</span>,
            size <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                               <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                               <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Nombre de pingouins"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p><strong>3) utiliser les fonctionnalités du package <code>forcats</code></strong> : ce package, qui fait partie du Tidyverse, permet d’effectuer des opérations sur des facteurs. C’est l’<strong>approche la plus dynamique</strong> : R transforme une variable en facteur et détermine automatiquement les niveaux. Nous n’avons donc plus besoin de préciser les niveaux. Nous pouvons par exemple trier les niveaux d’un facteur par ordre d’apparition avec <code>fct_inseq()</code>, ou par ordre de nombre d’observations à l’aide de <code>fct_infreq()</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Tri dans la fonction ggplot() à l'aide des fonctionnalites du package forcats</span>

<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span><span class='va'>pingouins</span>,
                     espece <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
                     fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>..count..</span><span class='op'>)</span>,
            stat <span class='op'>=</span> <span class='st'>"count"</span>,
            vjust <span class='op'>=</span> <span class='fl'>1.5</span>,
            colour <span class='op'>=</span> <span class='st'>"white"</span>,
            size <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                               <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                               <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Nombre de pingouins"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-38-1.png" width="624" /></p>
</div>
<p><br></p>
<p>Comme nous l’avions fait pour les boxplots, nous pouvons changer l’orientation des barres. Nous allons modifier quelques éléments du code :</p>
<ul>
<li><p>en basculant les espèces le long de l’axe y, l’espèce ayant le plus grand nombre de pingouins va se retrouver en bas du graphique. En effet, la variable <strong>espece</strong> étant un facteur avec des niveaux ordonnés, le premier niveau du facteur se retrouve au plus près de l’origine de l’axe : à gauche si les barres sont orientées verticalement, en bas si elles sont orientées horizontalement. Pour inverser l’ordre des niveaux, nous utilisons <code>fct_rev()</code>.</p></li>
<li><p>nous modifions l’alignement des étiquettes en remplaçant <code>vjust</code> par <code>hjust</code></p></li>
<li><p>nous réduisons la largeur des barres à l’aide du paramètre <code>width</code></p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Barplot horizontal</span>

<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span><span class='va'>pingouins</span>,
                     espece <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_rev.html'>fct_rev</a></span><span class='op'>(</span><span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
                     fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='fl'>0.75</span>,
           show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>..count..</span><span class='op'>)</span>,
            stat <span class='op'>=</span> <span class='st'>"count"</span>,
            hjust <span class='op'>=</span> <span class='fl'>1.5</span>,
            colour <span class='op'>=</span> <span class='st'>"white"</span>,
            size <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                               <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                               <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Nombre de pingouins"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_flip.html'>coord_flip</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-39-1.png" width="624" /></p>
</div>
<p><br></p>
<h3 id="une-note-sur-lutilisation-du-pipe">Une note sur l’utilisation du pipe <code>%&gt;%</code></h3>
<p>Nous pouvons également utiliser le <strong>pipe <code>%&gt;%</code></strong> que nous avions vu dans le tutoriel sur le Tidyverse pour enchaîner les opérations de tri puis la création du graphique.</p>
<p>Cette façon de procéder permet, quand nous manipulons un jeu de données (ajout d’une colonne par exemple), de s’assurer que nous n’avons pas fait d’erreur avant de générer le graphique, le tout sans avoir besoin de créer d’objet intermédiaire. L’utilisation du pipe permet également de bénéficier de l’auto-complétion à l’aide de la touche <code>Tab</code>, ce qui est plutôt appréciable quand nos variables portent des noms complexes ou que le code contient de nombreux paramètres.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Utilisation du pipe %&gt;%</span>

<span class='va'>pingouins</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>espece <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_rev.html'>fct_rev</a></span><span class='op'>(</span><span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
                       fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='fl'>0.75</span>,
           show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>..count..</span><span class='op'>)</span>,
            stat <span class='op'>=</span> <span class='st'>"count"</span>,
            hjust <span class='op'>=</span> <span class='fl'>1.5</span>,
            colour <span class='op'>=</span> <span class='st'>"white"</span>,
            size <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                               <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                               <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Nombre de pingouins"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_flip.html'>coord_flip</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-40-1.png" width="624" /></p>
</div>
<h1 id="facet">Graphiques multiples</h1>
<p>Quel est le <strong>rapport entre la longueur du bec et la longueur des ailes</strong> ?</p>
<p>Nous pouvons créer un nuage de points avec les trois espèces sur un même graphique, comme nous l’avons fait jusqu’ici :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Scatter plot : 1 graphique pour les 3 especes</span>

<span class='va'>pingouins</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>espece <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_rev.html'>fct_rev</a></span><span class='op'>(</span><span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
                       fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='fl'>0.75</span>,
           show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_text.html'>geom_text</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>label <span class='op'>=</span> <span class='va'>..count..</span><span class='op'>)</span>,
            stat <span class='op'>=</span> <span class='st'>"count"</span>,
            hjust <span class='op'>=</span> <span class='fl'>1.5</span>,
            colour <span class='op'>=</span> <span class='st'>"white"</span>,
            size <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                               <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                               <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Nombre de pingouins"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_flip.html'>coord_flip</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-41-1.png" width="624" /></p>
</div>
<p>Nous souhaitons maintenant visualiser ces données en sépérant les graphiques par espece et par ile.</p>
<p>Nous pourrions pour cela créer séparément les graphiques à l’aide de la fonction <code>filter()</code>. <code>ggplot2</code> possède deux fonctions qui le font directement : <strong><code>facet_wrap()</code></strong> et <strong><code>facet_grid()</code></strong>.</p>
<h2 id="facet_wrap"><code>facet_wrap()</code></h2>
<p>Nous allons simplement ajouter une couche à notre graphique précédent en précisant quelle variable sert à séparer les données (à l’aide d’un <strong>tilde ~</strong>). Nous modifions également le thème pour rendre les noms des espèces plus lisibles :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># facet_wrap() : 1 graphique par espece</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>aile_lngr_mm</span>,
                     y <span class='op'>=</span> <span class='va'>bec_lngr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
             size <span class='op'>=</span> <span class='fl'>3</span>,
             alpha <span class='op'>=</span> <span class='fl'>0.5</span>,
             show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Rapport entre la longueur du bec et la longueur des ailes"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>"Longueur de l'aile (mm)"</span>,
       y <span class='op'>=</span> <span class='st'>"Longueur du bec (mm)"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>espece</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_light</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-42-1.png" width="624" /></p>
</div>
<p>Nous pouvons modifier l’orientation des graphiques à l’aide du paramètre <code>dir = ...</code> (par défaut <code>h</code>, <code>v</code> pour des graphiques orientés verticalement).</p>
<p>Nous pouvons également déplacer l’étiquette de titre (noms des espèces dans notre cas) avec le paramètre <code>strip.position = ...</code> (par défaut <code>top</code>, peut prendre les valeurs <code>right</code>, <code>bottom</code> ou <code>left</code>) :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># facet_wrap() : 1 graphique par espece + paramètres</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>aile_lngr_mm</span>,
                     y <span class='op'>=</span> <span class='va'>bec_lngr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
             size <span class='op'>=</span> <span class='fl'>3</span>,
             alpha <span class='op'>=</span> <span class='fl'>0.5</span>,
             show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                 <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                 <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Rapport entre la longueur du bec et la longueur des ailes"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>"Longueur de l'aile (mm)"</span>,
       y <span class='op'>=</span> <span class='st'>"Longueur du bec (mm)"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>espece</span>,
             dir <span class='op'>=</span> <span class='st'>"v"</span>,
             strip.position <span class='op'>=</span> <span class='st'>"right"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_light</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-43-1.png" width="624" /></p>
</div>
<p>Commençons par placer les données des trois espèces sur un seul graphique :</p>
<p>La fonction <code>facet_wrap()</code> s’utilise simplement en précisant quelle variable va nous servir à séparer nos données (la variable <strong>espèce</strong> dans notre cas), précédée d’un <strong>tilde ~</strong> :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Rapport entre la longueur du bec et la longueur des ailes - 1 graphique par espèce</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>aile_lngr_mm</span>,
                     y <span class='op'>=</span> <span class='va'>bec_lngr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
             show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                               <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                               <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Rapport entre la longueur du bec et la longueur des ailes"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>"Longueur de l'aile (mm)"</span>,
       y <span class='op'>=</span> <span class='st'>"Longueur du bec (mm"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>espece</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-44-1.png" width="624" /></p>
</div>
<p>Pour simplifier la lecture de ce graphique, nous pouvons <strong>utiliser un autre thème</strong> :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Changer le thème</span>
<span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span>data <span class='op'>=</span> <span class='va'>pingouins</span>,
       mapping <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>aile_lngr_mm</span>,
                     y <span class='op'>=</span> <span class='va'>bec_lngr_mm</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_point.html'>geom_point</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>colour <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span>,
             show.legend <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_colour_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                               <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                               <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Rapport entre la longueur du bec et la longueur des ailes"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>"Longueur de l'aile (mm)"</span>,
       y <span class='op'>=</span> <span class='st'>"Longueur du bec (mm"</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/facet_wrap.html'>facet_wrap</a></span><span class='op'>(</span><span class='op'>~</span><span class='va'>espece</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_light</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-45-1.png" width="624" /></p>
</div>
<h1 id="exporter">Exporter un graphique</h1>
<p>Jusqu’à présent, nos différents graphiques apparaissaient dans le panneau <strong>Viewer</strong> de RStudio, mais n’étaient pas sauvegardés.</p>
<p>Il existe plusieurs façons d’exporter un graphique :</p>
<p><strong>- A partir du panneau Viewer</strong> : en cliquant sur <strong>Export</strong>, vous aurez le choix entre sauvegarder votre graphique sous forme d’<strong>image</strong> ou de <strong>fichier pdf</strong>, ou vous pourrez le copier dans le presse-papiers (par exemple pour le coller dans un document). Nous allons le sauvegarder sous forme d’image.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/export_ggplot_01.png" width="486" /></p>
</div>
<p>Vous aurez alors le choix entre plusieurs <strong>formats</strong> (<code>.png</code>, <code>.jpeg</code>, …). Vous pourrez également <strong>redimensionner</strong> votre graphique (en conservant ou non le ratio des dimensions), choisir le <strong>dossier de destination</strong> et <strong>renommer</strong> votre fichier (le nom proposé par défaut n’est pas très explicite …).</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/export_ggplot_02.png" width="491" /></p>
</div>
<p><br></p>
<p><strong>- En utilisant la fonction <code>ggsave()</code> : il vous faudra d’abord assigner votre graphique dans un objet. R est ce qu’on appelle un </strong>langage orienté objet**, ce qui veut dire que tout ce que vous manipulez dans votre session R (les fichiers importés, les transformations, les fonctions, et même les graphiques !) sont stockés dans la mémoire vive sous forme d’objet.</p>
<p>Vous pouvez simplement ajouter un nom d’objet et une flèche d’assignation devant le code ayant servi à générer votre dernier graphique : <code>barplot_especes &lt;- ggplot(...</code>. Votre graphique (y compris toutes les couches ajoutées et les paramètres) est stocké dans l’objet <strong>barplot_especes</strong>. Vous n’aurez par contre pas d’aperçu de votre graphique dans le panneau <strong>Viewer</strong> comme c’était le cas jusque là. Vous pouvez simplement appeler l’objet créé pour l’afficher, ou entourer l’ensemble de ce code par des parenthèses pour effectuer les deux opérations à la fois : stocker le graphique dans un objet et l’afficher dans le panneau Viewer.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Assigner le bar plot à l'obet barplot_especes et l'afficher</span>
<span class='op'>(</span><span class='va'>barplot_especes</span> <span class='op'>&lt;-</span> <span class='va'>pingouins</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>espece <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_rev.html'>fct_rev</a></span><span class='op'>(</span><span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
              fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>,
            width <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Nombre de pingouins"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_flip.html'>coord_flip</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-48-1.png" width="624" /></p>
</div>
<p>Créons maintenant un répértoire <strong>figs/</strong> dans notre répertoire de travail (à l’aide de <strong>New Folder</strong> dans l’onglet <strong>Files</strong> dans RStudio) et sauvegardons notre graphique :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggsave.html'>ggsave</a></span><span class='op'>(</span><span class='st'>"figs/barplot_especes.png"</span>, <span class='va'>barplot_especes</span>, dpi <span class='op'>=</span> <span class='fl'>320</span>, width <span class='op'>=</span> <span class='fl'>12</span>, height <span class='op'>=</span> <span class='fl'>6</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Décortiquons cette commande pour comprendre sa syntaxe :</p>
<ul>
<li><p>**<code>figs/barplot_especes.png</code> : répertoire de destination et nom sous lequel sauvegarder le graphique</p></li>
<li><p>**<code>barplot_especes</code> : nom de l’objet dans lequel le graphique est stocké. Vous pouvez également utiliser la fonction <code>last_plot()</code> pour sauvegarder le dernier graphique.</p></li>
</ul>
<p>-<strong><code>dpi = 320</code></strong> : résolution de l’image</p>
<p>-<strong><code>width = 12</code></strong> : largeur de l’image</p>
<p>-<strong><code>height = 6</code></strong> : hauteur de l’image</p>
<p>Il existe d’autres paramètres, n’hésitez pas explorer l’aide de la fonction à l’aide de la commande <code>?ggsave</code>. Vous pouvez essayer différentes options et valeurs pour voir le résultat.</p>
<p>Ouvrez le fichier <code>barplot_especes.png</code> et comparez ce fichier avec le visuel affiché dans votre session RStudio. Il n’est pas rare d’avoir quelques surprise ! La taille des lettres peut par exemple être plus petite dans le fichier exporté que dans l’aperçu RStudio. Il est toujours utile d’exporter son graphique et de vérifier le rendu pour rectifier les paramètres si nécessaire.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="img/barplot_especes.png" width="1920" /></p>
</div>
<h1 id="ameliorer">Améliorer ses graphiques</h1>
<p>Nous avons vu comment créer les principaux types de graphiques ainsi que certains paramètres permettant de modifier leur apparence. Il existe énormément de paramètres permettant de modifier nos graphiques pour les rendre plus attractifs. Les possibilités sont pour ainsi dire infinies !</p>
<p><br></p>
<p>La suite de ce tutoriel vous donnera quelques éléments pour améliorer vos graphiques, n’hésitez pas à aller voir la section <strong>Liens</strong> du blog pour trouver d’autres ressources qui vous aideront à creuser encore davantage les possibilités de <code>ggplot2</code>.</p>
<h2 id="modifier-larrière-plan">Modifier l’arrière-plan</h2>
<p>Commençons par un paramètre assez évident, à savoir la couleur de l’arrière-plan. Les thèmes prédéfinis dans <code>ggplot2</code> vous donnent quelques possibilités, mais vous pouvez en réalité choisir n’importe quelle couleur, pour peu que vous ayiez son nom ou son code hexadécimal.</p>
<p>Nous allons reprendre le barplot du nombre de pingouins par espèce et y apporter des modifications, en montrant le résultat étape par étape.</p>
<p>Le paramètre <code>theme()</code> va vous permettre d’ajuster tous les paramètres de votre graphique (et la liste est très longue !).</p>
<p><br></p>
<p>Votre graphique se compose de deux grandes parties :</p>
<ul>
<li><p>le <strong>“panel”</strong> qui contient les éléments de visualisation (le graphique lui-même)</p></li>
<li><p>le <strong>plot</strong> qui contient tout ce qui est autour : titre, légende, titres des axes, …</p></li>
</ul>
<p>Nous allons commencer par modifier la couleur de l’arrière-plan de la zone du graphique, à l’aide du paramètre <code>panel.background()</code>. Nous allons dans ce paramètre préciser la couleur de l’intérieur et du contour de la zone du graphique (comme nous l’avions fait plus haut en modifiant la forme et les couleurs des points) à l’aide des paramètres <code>fill</code> et <code>colour</code> au sein d’un argument <code>element_rect()</code> :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Modifier la couleur de l'arrière-plan de la zone du graphique</span>
<span class='va'>pingouins</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>espece <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_rev.html'>fct_rev</a></span><span class='op'>(</span><span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
              fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>,
            width <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Nombre de pingouins"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_flip.html'>coord_flip</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#1d3557"</span>, colour <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-51-1.png" width="624" /></p>
</div>
<p>Pour modifier la couleur de l’arrière-plan de la zone autour du graphique, nous procédons de la même façon à l’aide du paramètre <strong><code>plot.background()</code></strong> :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Modifier la couleur de l'arrière-plan de la zone autour du graphique</span>
<span class='va'>pingouins</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>espece <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_rev.html'>fct_rev</a></span><span class='op'>(</span><span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
              fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>,
            width <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                                <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                                <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Nombre de pingouins"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_flip.html'>coord_flip</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
   <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#1d3557"</span>, colour <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
        plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#1d3557"</span>, colour <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-52-1.png" width="624" /></p>
</div>
<h2 id="modifier-la-grille">Modifier la grille</h2>
<p>Certaines lignes de la grille peuvent devenir inutiles. Dans notre cas, les lignes horizontales de la grille ne sont pas nécessaires à la compréhension du graphique. Nous allons pouvoir modifier ces éléments à l’aide des paramètres <code>panel.grid</code>. :</p>
<ul>
<li><p><strong><code>panel.grid</code></strong> : modifier toutes les lignes</p></li>
<li><p><strong><code>panel.grid.major</code></strong> : modifier les lignes principales</p></li>
<li><p><strong><code>panel.grid.minor</code></strong> : modifier les lignes secondaires</p></li>
<li><p><strong><code>panel.grid.major.x</code></strong> : modifier les lignes principales de l’axe x</p></li>
<li><p><strong><code>panel.grid.major.y</code></strong> : modifier les lignes principales de l’axe y</p></li>
<li><p><strong><code>panel.grid.minor.x</code></strong> : modifier les lignes secondaires de l’axe x</p></li>
<li><p><strong><code>panel.grid.minor.y</code></strong> : modifier les lignes secondaires de l’axe y</p></li>
</ul>
<p><br></p>
<p>Nous procédons de la façons suivante :</p>
<p><strong>1) Supprimer toutes les lignes secondaires</strong> : <code>panel.grid.minor = element_blank()</code></p>
<p><strong>2) Modifier les lignes principales de l’axe en lignes pointillées</strong> : <code>panel.grid.major.x = element_line(linetype = "dotted)</code></p>
<p><strong>3) Supprimer les lignes principales de l’axe y</strong> : <code>panel.grid.major.y = element_blank()</code></p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Modifier la grille</span>
<span class='va'>pingouins</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>espece <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_rev.html'>fct_rev</a></span><span class='op'>(</span><span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
             fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>,
           width <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                               <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                               <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Nombre de pingouins"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_flip.html'>coord_flip</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#1d3557"</span>, colour <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
        plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#1d3557"</span>, colour <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
        panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
        panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span>,
        panel.grid.major.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-53-1.png" width="624" /></p>
</div>
<h2 id="le-texte">Le texte</h2>
<p>L’arrière-plan plus sombre rend le texte difficilement lisible. Nous pouvons modifier la couleur et la taille du texte utilisé dans le titre, le sous-titre, les titres des axes et les étiquettes de axes.</p>
<p>Plusieurs paramètres permettent de modifier du texte :</p>
<ul>
<li><p><strong>family</strong> : police de caractères</p></li>
<li><p><strong>colour</strong> : couleur du texte</p></li>
<li><p><strong>size</strong> : taille du texte (valeurs numériques)</p></li>
<li><p><strong>hjust</strong> : alignement horizontal du texte</p></li>
<li><p><strong>vjust</strong> : alignement vertical du texte</p></li>
</ul>
<aside>
0 (à gauche), 0.5 (centre) ou 1 (droite)
</aside>
<p>Ces paramètres peuvent être appliqués séparément au titre, au sous-titre, aux titres des axes et aux étiquettes des axes.</p>
<p>Le package <code>showtext()</code> permet d’utiliser des polices <strong>Google fonts</strong> dans nos graphiques, n’hésitez pas à fouiller pour trouver celle qui vous convient !</p>
<p>Installer et charger le package showtext :</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Installer et charger le package showtext</span>
<span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"showtext"</span><span class='op'>)</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/yixuan/showtext'>showtext</a></span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Nous allons utiliser la police <strong>Righteous</strong> :</p>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/pkg/sysfonts/man/font_add_google.html'>font_add_google</a></span><span class='op'>(</span><span class='st'>"Righteous"</span>, <span class='st'>"Righteous"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/pkg/showtext/man/showtext_auto.html'>showtext_auto</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Nous pouvons maintenant modifier les paramètres en procédant de la manière suivante :</p>
<ul>
<li><p><strong>modifier la police, la taille, la couleur et l’alignement du titre</strong> : <code>plot.title = element_text(family = "Righteous", colour = "white", size = 25, hjust = 0.5)</code></p></li>
<li><p><strong>modifier la police, la taille, la couleur et l’alignement du sous-titre</strong> : <code>plot.subtitle = element_text(family = "Righteous", colour = "white", size = 15, hjust = 0.5)</code></p></li>
<li><p><strong>modifier la police, la taille et la couleur du texte des axes</strong> : <code>axis.text = element_text(family = "Righteous", colour = "white", size = 12)</code></p></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Modifier le texte</span>
<span class='va'>pingouins</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://dplyr.tidyverse.org/reference/mutate.html'>mutate</a></span><span class='op'>(</span>espece <span class='op'>=</span> <span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_rev.html'>fct_rev</a></span><span class='op'>(</span><span class='fu'><a href='https://forcats.tidyverse.org/reference/fct_inorder.html'>fct_infreq</a></span><span class='op'>(</span><span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'><a href='https://magrittr.tidyverse.org/reference/pipe.html'>%&gt;%</a></span> 
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggplot.html'>ggplot</a></span><span class='op'>(</span><span class='fu'><a href='https://ggplot2.tidyverse.org/reference/aes.html'>aes</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>espece</span>,
             fill <span class='op'>=</span> <span class='va'>espece</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/geom_bar.html'>geom_bar</a></span><span class='op'>(</span>show.legend <span class='op'>=</span> <span class='cn'>FALSE</span>,
           width <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/scale_manual.html'>scale_fill_manual</a></span><span class='op'>(</span>values <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Adelie"</span> <span class='op'>=</span> <span class='st'>"darkorange"</span>,
                               <span class='st'>"Chinstrap"</span> <span class='op'>=</span> <span class='st'>"purple"</span>,
                               <span class='st'>"Gentoo"</span> <span class='op'>=</span> <span class='st'>"cyan4"</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/labs.html'>labs</a></span><span class='op'>(</span>title <span class='op'>=</span> <span class='st'>"Nombre de pingouins"</span>,
       subtitle <span class='op'>=</span> <span class='st'>"pour trois espèces de l'archipel Palmer"</span>,
       x <span class='op'>=</span> <span class='st'>""</span>,
       y <span class='op'>=</span> <span class='st'>""</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/coord_flip.html'>coord_flip</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/ggtheme.html'>theme_minimal</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>+</span>
  <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/theme.html'>theme</a></span><span class='op'>(</span>panel.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#1d3557"</span>, colour <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
        plot.background <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_rect</a></span><span class='op'>(</span>fill <span class='op'>=</span> <span class='st'>"#1d3557"</span>, colour <span class='op'>=</span> <span class='cn'>NA</span><span class='op'>)</span>,
        panel.grid.minor <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
        panel.grid.major.x <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_line</a></span><span class='op'>(</span>linetype <span class='op'>=</span> <span class='st'>"dotted"</span><span class='op'>)</span>,
        panel.grid.major.y <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_blank</a></span><span class='op'>(</span><span class='op'>)</span>,
        plot.title <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"Righteous"</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>,
                                  size <span class='op'>=</span> <span class='fl'>25</span>, hjust <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,
        plot.subtitle <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"Righteous"</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>,
                                     size <span class='op'>=</span> <span class='fl'>15</span>, hjust <span class='op'>=</span> <span class='fl'>0.5</span><span class='op'>)</span>,
        axis.text <span class='op'>=</span> <span class='fu'><a href='https://ggplot2.tidyverse.org/reference/element.html'>element_text</a></span><span class='op'>(</span>family <span class='op'>=</span> <span class='st'>"Righteous"</span>, colour <span class='op'>=</span> <span class='st'>"white"</span>,
                                 size <span class='op'>=</span> <span class='fl'>12</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="visualiser-donnees-ggplot2_files/figure-html5/unnamed-chunk-57-1.png" width="624" /></p>
</div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
